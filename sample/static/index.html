<html>
<head>
  <style type="text/css">
    .gimmie-intext-sample {
      width: auto;
      display: inline-block;
    }

    .gimmie-instance-action {
      background-color: #faebd7;
      border: 1px solid #fb8c32;
      border-radius: 3px;

      width: 100px;
      cursor: pointer;

      position: relative;
      left: 100px;
    }
  </style>

  <meta name="viewport" content="width=device-width, initial-scale=1 maximum-scale=1.0; user-scalable=no;">
</head>
<body>

<div class="gimmie-control">
  <h2>Events</h2>
  <ul class="events">
    <li>
      <a href="#" data-gimmie-event-id="finish_level">Finish game level</a>
    </li>
    <li>
      <a href="#" data-gimmie-event-id="share">Share something</a>
    </li>
  </ul>
</div>

<div id="gimmie-root"></div>

</body>

<script src="jquery-1.8.3.min.js" type="text/javascript"></script>
<script type="text/javascript">
  var _gimmie = {
    "api"                         : "//192.168.2.118:8080/gimmie?gimmieapi=",
    "locale"                      : "en",

    "name"                        : "Sample",
    //"notify"                      : "Welcome to Sample Site",
    "empty_activity_content"      : "No activity in your account yet",
    "empty_my_reward_content"     : "No rewards to claim yet",
    "help_content"                : '<a href="javascript:alert(\'Test\');">Test</a>, Hello, World',
    "logon_message"               : "Welcome",
    "logon_handler"			          : function () {
      console.log ('Logon')
    },
    "logout_message"              : "Goodbye",
    "logout_handler"		          : function () {
      console.log ('Logout')
    },
    "nouser_reward_title"         : "Signin to get reward",
    "nouser_reward_title_handler" : function () {
      console.log ('Signing in');
    },
    "show_reward_when_logout"     : true,
    "url"                         : "http://google.com",
    "hide_power"                  : false,
    "shuffle_reward"              : true,
    "auto_notify_after_load"      : true,

    "key"                         : "0a60299a6b0148ab76593b8e6e4e",
    "gimmieURL"                   : "http://api-d.llun.in.th",

    "share": {
      "facebook": "share",
      "twitter": "share",
      "gplus": "share"
    },

    "texts": {
      "user_points_message": "You current points: "
    },

    "onload" : function () {

      console.log ('load instant reward');
      GimmieWidget.triggerOutput({"response":{"success":true,"user":{"user_id":"hgw_staging_tester1","awarded_points":10,"redeemed_points":6,"current_level":1,"current_level_points":0,"next_level_points":21,"points_to_next_level":11},"claim":{"id":"1505","code":"code05","reward":{"id":"538","url":"https://api.gimmieworld.com/1/visit.json?claim_id=15t.eec&email=EMAIL&locale=zh&name=NAME","name":"$5 Worth of bCard","short_name":"$5 Worth of bCard","category_name":"Digital Goods","store_name":"bCard","total_quantity":-1,"claimed_quantity":0,"description":"Get a $5 Worth of bCard ","fine_print":"You need to be a bCard owner to redeem. Sign up from https://www.bcard.com.my","price":"5.0","points":1,"experience_points":0,"limit_per_player":-1,"start_date":"2013-05-31","end_date":"2013-12-05","start_at":"2013-05-31T10:29:12Z","end_at":"2013-12-05T00:00:00Z","valid_until":"2014-12-06T00:00:00Z","image_url":"//d18x8xpkk0k00a.cloudfront.net/reward_langs/images/000/000/063/thumb.jpeg?1369994399","image_url_widget":"//d18x8xpkk0k00a.cloudfront.net/reward_langs/images/000/000/063/widget.jpeg?1369994399","image_url_retina":"//d18x8xpkk0k00a.cloudfront.net/reward_langs/images/000/000/063/retina.jpeg?1369994399","featured":false,"country_codes":["SG"]}}},"error":{}});
      
    },

    "_": {
      "enable_responsive": true,
      "no_animate": false,
      "hide_powerby": true
    },

    //"options": {
    //  banner: true,
    //  banner_url: 'http://google.com'
    //}

  };

  (function(d){
    var js, id = "gimmie-widget", ref = d.getElementsByTagName("script")[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement("script"); js.id = id; js.async = true;
    // js.src = "http://api.gimmie.lab:3000/assets/gimmie-widget.nojq.js";
    js.src = "http://api-d.llun.in.th/assets/gimmie-widget.nojq.js";
    ref.parentNode.insertBefore(js, ref);
  }(document));

  $('.events a').click(function (item) {
    var element = _gmjq(item.target);
    var eventName = element.attr('data-gimmie-event');
    GimmieWidget.API.triggerEvent(eventName);
  });

</script>

</html>
